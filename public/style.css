/**
 * [FILE: style.css]
 * ì—­í• : 2026 SMASH (Original Stable Version + Scroll Fix)
 * ì„¤ëª…: ë””ìì¸ì€ ì›ë˜ëŒ€ë¡œ, ëª…ë‹¨ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ë§Œ ì¶”ê°€
 */

/* 1. ê¸°ë³¸ ì„¤ì • */
body {
    font-family: 'Pretendard', 'Malgun Gothic', -apple-system, sans-serif;
    background-color: #f0f2f5;
    margin: 0;
    padding: 10px 10px env(safe-area-inset-bottom, 10px) 10px;
    height: 100dvh; /* ì „ì²´ ë†’ì´ ê³ ì • (ìŠ¤í¬ë¡¤ ë°©ì§€) */
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    gap: 10px; 
    overflow: hidden; 
}

/* 2. ìƒë‹¨ í—¤ë” */
.header-container {
    display: flex; justify-content: space-between; align-items: center;
    background-color: white; padding: 12px 20px; border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); border: 1px solid #ddd;
    flex-shrink: 0;
}
.left-section { display: flex; align-items: center; gap: 15px; }
.title-group { display: flex; flex-direction: column; align-items: flex-start; gap: 2px; }
.title1 { font-size: 20px; font-weight: 800; color: #111; margin: 0; line-height: 1.1; }
.title { font-size: 13px; color: #666; margin: 0; }
.divider { width: 1px; height: 20px; background: #e5e7eb; margin: 0 15px; }

.day-toggle { display: flex; background: #f3f4f6; padding: 4px; border-radius: 8px; }
.day-btn { border: none; background: none; padding: 6px 12px; font-size: 13px; font-weight: 700; border-radius: 6px; cursor: pointer; color: #999; }
.day-btn.active { background: white; color: #2563eb; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }

/* 3. ëŒ€ì‹œë³´ë“œ (ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ì˜ í•µì‹¬!) */
.dashboard-area {
    display: flex; flex: 1; gap: 10px;
    min-height: 0; /* ìì‹ ìš”ì†Œ ìŠ¤í¬ë¡¤ì„ ìœ„í•´ í•„ìˆ˜ */
}

/* íŒ¨ë„ ë””ìì¸ (ì›ë˜ëŒ€ë¡œ) */
.left-panel, .sub-panel {
    background-color: white; border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); border: 1px solid #ddd;
    display: flex; flex-direction: column; /* ì„¸ë¡œ ë°°ì¹˜ */
    overflow: hidden; /* íŠ€ì–´ë‚˜ì˜¤ëŠ” ë‚´ìš© ìˆ¨ê¹€ */
}
.left-panel { flex: 1.5; }
.sub-panel { flex: 1; }
.right-panel-wrapper { flex: 1; display: flex; flex-direction: column; gap: 10px; min-height: 0; }

/* ì•„ì½”ë””ì–¸ í—¤ë” (ê³ ì •) */
.accordion-header {
    height: 50px; flex-shrink: 0; /* í¬ê¸° ê³ ì • */
    display: flex; justify-content: space-between; align-items: center;
    cursor: pointer; padding: 0 15px; border-bottom: 1px solid #f0f0f0;
}
.accordion-header h3 { margin: 0; font-size: 15px; font-weight: 700; position: relative; top: -3px; }
.title-adjust { position: relative; top: 2px; margin-left: 2px; }

.header-right { display: flex; align-items: center; gap: 12px; margin-left: auto; }
.timer-container { border-left: 1px solid #ddd; padding-left: 12px; height: 30px; display: flex; flex-direction: column; justify-content: center; align-items: flex-end; }
.timer-label { font-size: 10px; color: #999; margin-bottom: 2px; }
.timer-number { font-size: 15px; font-family: monospace; font-weight: 700; }
.text-gray { color: #aaa; } .text-green { color: #28a745; } .text-blue { color: #4c6ef5; }

/* [í•µì‹¬] ëª…ë‹¨ ë‚´ìš©ë¬¼ (ìŠ¤í¬ë¡¤ ì ìš©) */
.accordion-content {
    flex: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
    overflow-y: auto; /* ë‚´ìš© ë„˜ì¹˜ë©´ ìŠ¤í¬ë¡¤ ìƒì„± */
    padding: 0;
    -webkit-overflow-scrolling: touch; /* ëª¨ë°”ì¼ ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ */
}

/* 4. í…Œì´ë¸” */
table { width: 100%; border-collapse: collapse; font-size: 14px; }
th { background: #f8f9fa; position: sticky; top: 0; padding: 8px; border-bottom: 2px solid #ddd; font-size: 13px; z-index: 10; }
td { padding: 8px; border-bottom: 1px solid #eee; text-align: center; }
th:first-child, td:first-child { width: 40px; background: #f1f1f1; font-weight: bold; }

/* 5. í•˜ë‹¨ ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
.control-panel {
    background: #333; color: white; padding: 10px 15px; border-radius: 10px;
    display: flex; justify-content: space-between; align-items: center;
    flex-shrink: 0; flex-wrap: wrap; gap: 10px;
    padding-bottom: calc(10px + env(safe-area-inset-bottom));
}
.input-group { display: flex; gap: 8px; align-items: center; }
input[type="text"], input[type="password"] { padding: 6px; width: 80px; border-radius: 4px; border: 1px solid #ccc; font-size: 14px; }
select { padding: 6px; border-radius: 4px; }
.radio-label { font-size: 14px; margin-right: 5px; cursor: pointer; }
.submit-btn { background: #007bff; color: white; border: none; padding: 6px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; }

/* í†±ë‹ˆë°”í€´ (ì›ë˜ëŒ€ë¡œ íˆ¬ëª…í•˜ê²Œ ë³µêµ¬) */
.admin-btn { background: none; border: none; padding: 5px 10px; font-size: 20px; cursor: pointer; transition: transform 0.2s; color: white; }
.admin-btn:hover { transform: rotate(90deg); }

/* 6. ëª¨ë‹¬ & íŒì—… */
.admin-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.6); z-index: 20000;
    display: flex; justify-content: center; align-items: center;
}
.admin-auth-box {
    background: white; padding: 25px; border-radius: 12px;
    width: 90%; max-width: 320px; text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}
.admin-auth-box h4 { margin: 0 0 20px 0; font-size: 1.2rem; }
.admin-auth-box input { width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 8px; text-align: center; box-sizing: border-box; }
.auth-btns { display: flex; gap: 10px; }
.auth-btns button { flex: 1; padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
#auth-cancel-btn { background: #eee; }
#auth-confirm-btn { background: #007bff; color: white; }

/* 7. ê´€ë¦¬ì íŒ¨ë„ (ì›ë˜ ë°•ìŠ¤ ë””ìì¸) */
#admin-dashboard-panel {
    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 90%; max-width: 350px;
    background: white; padding: 20px; border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 10000;
    display: flex; flex-direction: column;
}
.admin-header { display: flex; justify-content: space-between; align-items: center; }

/* ì‹œê°„ ìˆ˜ì • ëª¨ë‹¬ ìš°ì„ ìˆœìœ„ ë³´ì • */
#admin-time-modal { z-index: 20000 !important; }

/* -----------------------------------------------------------
   8. ë°˜ì‘í˜• (ëª¨ë°”ì¼) - ë””ìì¸ ë³µêµ¬ & ê½‰ ì°¬ í™”ë©´ ìµœì¢… fix
   ----------------------------------------------------------- */
/* -----------------------------------------------------------
   8. ë°˜ì‘í˜• (ëª¨ë°”ì¼) - ë””ìì¸ ë³´ì¡´ + ê½‰ ì°¬ í™”ë©´ (Final v2)
   ----------------------------------------------------------- */
/* -----------------------------------------------------------
   8. ë°˜ì‘í˜• (ëª¨ë°”ì¼) - JS ë¹„ìœ¨ ì œì–´ ìµœì í™” ë²„ì „
   ----------------------------------------------------------- */
/* -----------------------------------------------------------
   8. ë°˜ì‘í˜• (ëª¨ë°”ì¼) - ì•„ì½”ë””ì–¸ ë¹„ìœ¨/í¬ê¸° ë¬¸ì œ ì™„ë²½ í•´ê²° ë²„ì „
   ----------------------------------------------------------- */
@media (max-width: 768px) {
    /* 1. ëŒ€ì‹œë³´ë“œ ì „ì²´ í‹€: í™”ë©´ ê½‰ ì±„ìš°ê¸° í•„ìˆ˜ ì„¤ì • */
    .dashboard-area {
        display: flex;
        flex-direction: column;
        gap: 10px;        /* ì¹´ë“œ ì‚¬ì´ ê°„ê²© */
        flex: 1;          /* ë‚¨ì€ ë†’ì´ ë¬´ì¡°ê±´ ë‹¤ ì°¨ì§€ */
        min-height: 0;    /* ìì‹ ìŠ¤í¬ë¡¤ì„ ìœ„í•´ í•„ìˆ˜ */
        overflow: hidden; /* ì „ì²´ ìŠ¤í¬ë¡¤ ë°©ì§€ */
    }
    
    /* 2. íŒ¨ë„ ê³µí†µ (í¼ì³ì¡Œì„ ë•Œ) */
    .left-panel, .sub-panel, #lesson-panel {
        width: 100%;
        display: flex;
        flex-direction: column;
        
        /* ğŸ”¥ [í•µì‹¬ ìˆ˜ì •] height: auto ì ˆëŒ€ ê¸ˆì§€! */
        /* JSê°€ ë¶€ì—¬í•  flex ë¹„ìœ¨ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ëŠ˜ì–´ë‚©ë‹ˆë‹¤ */
        flex: 1; 
        
        /* ë””ìì¸ ìœ ì§€ */
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        border: 1px solid #ddd;
        
        transition: flex 0.3s ease; /* ë¶€ë“œëŸ½ê²Œ ëŠ˜ì–´ë‚˜ê¸° */
        min-height: 0; /* ë‚´ìš© ë§ì•„ë„ íŒ¨ë„ì´ ëš«ê³  ë‚˜ê°€ì§€ ì•Šê²Œ í•¨ */
    }

    /* 3. ì ‘í˜”ì„ ë•Œ (ë¬´ì¡°ê±´ 50px ê³ ì •) */
    .left-panel.collapsed, 
    .sub-panel.collapsed, 
    #lesson-panel.collapsed {
        flex: 0 0 50px !important;   /* í¬ê¸° ê³ ì • */
        height: 50px !important;     /* ë†’ì´ ê°•ì œ */
        min-height: 50px !important; /* ìµœì†Œ ë†’ì´ */
        overflow: hidden !important; /* ë‚´ìš©ë¬¼ ìˆ¨ê¹€ */
    }
    
    /* 4. ë‚´ìš©ë¬¼ ì˜ì—­ */
    .accordion-content {
        flex: 1;          /* íŒ¨ë„ ë†’ì´ë§Œí¼ ê½‰ ì±„ì›€ */
        overflow-y: auto; /* ë‚´ìš© ë„˜ì¹˜ë©´ ìŠ¤í¬ë¡¤ */
        display: block;   /* í•­ìƒ ê³µê°„ ì°¨ì§€ */
        background: white; /* ë°°ê²½ìƒ‰ ëª…ì‹œ */
    }

    /* ì ‘í˜”ì„ ë•Œ ë‚´ìš©ë¬¼ í™•ì‹¤íˆ ìˆ¨ê¹€ */
    .left-panel.collapsed .accordion-content, 
    .sub-panel.collapsed .accordion-content,
    #lesson-panel.collapsed .accordion-content {
        display: none;
    }
    
    /* 5. í™”ì‚´í‘œ ë° ê¸°íƒ€ (ê±´ë“œë¦¬ì§€ ì•ŠìŒ) */
    .arrow {
        display: inline-block; width: 8px; height: 8px;
        border-right: 2px solid #aaa; border-bottom: 2px solid #aaa;
        margin-left: 10px; transform: rotate(225deg); transition: 0.3s;
    }
    .left-panel.collapsed .arrow, 
    .sub-panel.collapsed .arrow,
    #lesson-panel.collapsed .arrow { transform: rotate(45deg); }
    
    .control-panel { flex-direction: column; align-items: stretch; gap: 10px; }
    .input-group:nth-child(1) { display: grid; grid-template-columns: 1fr 1fr 1.2fr; gap: 5px; }
    .input-group.mobile-row-2 { display: flex; justify-content: space-between; }
}

/* [ì¶”ê°€] ëª¨ë˜ UIìš© ê°„ê²© ë²Œë¦¬ê¸° */
.mt-2 {
    margin-top: 20px; /* ì›í•˜ëŠ” ë§Œí¼ ê°„ê²© ì¡°ì ˆ (ì˜ˆ: 15px, 20px, 30px) */
}